{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HBuilderX/微信小程序开发/miniprogram-2/pages/serve/hospital/map/map2.vue?8dcb","webpack:///D:/HBuilderX/微信小程序开发/miniprogram-2/pages/serve/hospital/map/map2.vue?66d0","webpack:///D:/HBuilderX/微信小程序开发/miniprogram-2/pages/serve/hospital/map/map2.vue?ffe8","webpack:///D:/HBuilderX/微信小程序开发/miniprogram-2/pages/serve/hospital/map/map2.vue?7717","uni-app:///pages/serve/hospital/map/map2.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,uG;AACAA,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACwM;AACxM,gBAAgB,4MAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0xB,CAAgB,ywBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;ACa9yB;AACA;AACA;AACA;AACA,c;AACA;AACA,MADA,kBACA;AACA;AACA,0BADA,EACA;AACA,yBAFA,EAEA;AACA,kBAHA;AAIA,eAJA;AAKA,iBALA;AAMA,iBANA;AAOA,kBAPA;AAQA,aARA;AASA;AACA;AACA;AACA,qDADA,CADA;AAGA,wBAHA;AAIA,uBAJA;AAKA,iBALA,EADA,CATA;;;;AAmBA,GArBA;AAsBA,QAtBA,oBAsBA;AACA;AACA,gDADA,CACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eADA;AAEA,6DAFA;AAGA;AACA,oBADA;AAEA,0BAFA;AAGA,qBAHA;AAIA,sBAJA,EAHA;;AASA,yBATA,CASA;AATA;AAWA,OAhBA;;AAkBA,GA7CA;AA8CA;AACA,kBADA,0BACA,CADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,oBARA,4BAQA,CARA,EAQA;AACA;AACA;AACA;AACA;AACA,WAHA;;AAKA;AACA,KAhBA;AAiBA,WAjBA,mBAiBA,SAjBA,EAiBA,QAjBA,EAiBA;AACA;AACA,uBADA,EACA;AACA;AACA,8BADA;AAEA,4BAFA,EAFA;;AAMA;AACA;AACA;AACA;AACA;AACA,iEADA;AAEA,sCAFA;AAGA,mBAHA;AAIA,iDAJA;AAKA,gDALA;;AAOA;AACA;AACA;AACA,oEADA;AAEA,+BAFA;AAGA,gCAHA;AAIA,8BAJA;;AAMA;AACA;AACA,SA3BA;;AA6BA,KA/CA,EA9CA;;AA+FA,SA/FA,qBA+FA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAZA;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;;AAQA,GAtHA,E","file":"pages/serve/hospital/map/map2.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/serve/hospital/map/map2.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./map2.vue?vue&type=template&id=e0cf0a16&\"\nvar renderjs\nimport script from \"./map2.vue?vue&type=script&lang=js&\"\nexport * from \"./map2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/serve/hospital/map/map2.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map2.vue?vue&type=template&id=e0cf0a16&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./map2.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<map id=\"map\" @bindcontroltap=\"bindControlTap\"\r\n\t\t@bindregionchange=\"bindRegionChange\" :longitude=\"longitude\"\r\n\t\t:latitude=\"latitude\" :markers=\"markers\" :controls=\"controls\" \r\n\t\t:style=\"{width:`${mapw};height:${maph}`}\" :scale=\"scale\" show-location\r\n\t\t:polyline=\"polyline\">\r\n\t\t</map>\r\n\t\t\r\n\t</view>\n</template>\n\n<script>\r\n\tvar QQMapWX = require('../qqmap/qqmap-wx-jssdk.js')\r\n\tvar qqmapsdk\r\n\tvar mapCtx = null\r\n\tvar l1 = null\r\n\tvar l2 = null\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tlongitude: 102.83297,          //经度102.83297\r\n\t\t\t\tlatitude: 24.880014,   //昆明市人民政府的  纬度  24.880014\r\n\t\t\t\tmapw:'100%',\r\n\t\t\t\tmaph:'0',\r\n\t\t\t\tscale:'18',\r\n\t\t\t\tmarkers:[],\r\n\t\t\t\tcontrols:[],\r\n\t\t\t\tmps: {},\r\n\t\t\t\tpolyline: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpoints:[{latitude:25.04347,longitude:102.70737},\r\n\t\t\t\t\t\t\t\t{latitude:24.880014,longitude:102.83297}],\r\n\t\t\t\t\t\tcolor: '#00BFFF',\r\n\t\t\t\t\t\tarrowLine: true,\r\n\t\t\t\t\t\twidth: 10\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tqqmapsdk = new QQMapWX({\r\n\t\t\t    key: 'IL2BZ-H2O3D-3M442-HERXO-SVNIE-BSF2F'  //腾讯位置服务的key\r\n\t\t\t  });\r\n\t\t\t  this.mapCtx = wx.createMapContext('map')\r\n\t\t\t  wx.getSystemInfo({\r\n\t\t\t    success:(res)=>{\r\n\t\t\t      var mapw = res.windowWidth\r\n\t\t\t      var maph = res.windowHeight\r\n\t\t\t        this.maph = maph + 'px'\r\n\t\t\t        this.controls = [{\r\n\t\t\t          id:1,\r\n\t\t\t          iconPath:'../../../../static/images/icons/map.png',\r\n\t\t\t          position:{\r\n\t\t\t            left:10,\r\n\t\t\t            top:maph-50,\r\n\t\t\t            width:50,\r\n\t\t\t            height:50\r\n\t\t\t          },\r\n\t\t\t          clickable:true //可以点击\r\n\t\t\t        }]\r\n\t\t\t    }\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tbindControlTap(e){\r\n\t\t\t  console.log(e.controlId)\r\n\t\t\t  if(e.controlId ===1){\r\n\t\t\t    this.mapCtx.moveToLocation()\r\n\t\t\t  }\r\n\t\t\t},\r\n\t\t\t//滑动获取周围的宠物店\r\n\t\t\tbindRegionChange(e){\r\n\t\t\t if(e.type ==='end'){\r\n\t\t\t   this.mapCtx.getCenterLocation({\r\n\t\t\t     success:res=>{\r\n\t\t\t       this.getFood(res.longitude,res.latitude)\r\n\t\t\t     }\r\n\t\t\t   })\r\n\t\t\t }\r\n\t\t\t},\r\n\t\t\tgetFood (longitude, latitude){\r\n\t\t\t  qqmapsdk.search({\r\n\t\t\t    keyword:'宠物医院',   //搜索内容\r\n\t\t\t    location:{\r\n\t\t\t      longitude: longitude,\r\n\t\t\t      latitude: latitude\r\n\t\t\t    },\r\n\t\t\t    success:res=>{\r\n\t\t\t      var mark = []\r\n\t\t\t      for(let i in res.data){\r\n\t\t\t        //找到的宠物店位置\r\n\t\t\t        mark.push({\r\n\t\t\t          iconPath:'../../../../static/images/icons/map.png',\r\n\t\t\t          title: res.data[i].title,\r\n\t\t\t          id:i,\r\n\t\t\t          longitude:res.data[i].location.lng,\r\n\t\t\t          latitude: res.data[i].location.lat,\r\n\t\t\t        })\r\n\t\t\t      }\r\n\t\t\t      //中心点旗杆的参数\r\n\t\t\t      mark.push({\r\n\t\t\t        iconPath: '../../../../static/images/icons/position.png',\r\n\t\t\t        id: res.data.length,\r\n\t\t\t        longitude: longitude,\r\n\t\t\t        latitude: latitude\r\n\t\t\t      })\r\n\t\t\t      //把搜索的结果显示在地图上\r\n\t\t\t      this.markers = mark\r\n\t\t\t    }\r\n\t\t\t  })\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady(){\r\n\t\t\tuni.getLocation({\r\n\t\t\t  type:'gcj02',\r\n\t\t\t  altitude:true,\r\n\t\t\t  success:res=>{\r\n\t\t\t    console.log(res)\r\n\t\t\t    this.longitude = res.longitude\r\n\t\t\t    this.latitude = res.latitude\r\n\t\t\t\tthis.mps.longitude = res.longitude\r\n\t\t\t\tthis.mps.latitude = res.latitude\r\n\t\t\t\tconsole.log(res.longitude)\r\n\t\t\t\tconsole.log(res.latitude)\r\n\t\t\t    this.getFood(res.longitude,res.latitude)\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t\tuni.chooseLocation({\r\n\t\t\t    success: function (res) {\r\n\t\t\t        console.log('位置名称：' + res.name);\r\n\t\t\t        console.log('详细地址：' + res.address);\r\n\t\t\t        console.log('纬度：' + res.latitude);\r\n\t\t\t        console.log('经度：' + res.longitude);\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t}\r\n\t}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":""}